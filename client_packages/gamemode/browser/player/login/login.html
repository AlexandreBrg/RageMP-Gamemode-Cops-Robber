<html>

  <head>
    <link rel="stylesheet" href="login.css" />
  </head>

  <body>

    <div class="logo">
      <img src="logo.png" alt="Logo GTAVRP.FR" height="110" width="550" id="logo"/>
    </div>

    <div class="block">

      <div class="title">
          Log in
      </div>
      <div class="sepbar"></div>


      <input id="email" class="Input" type="text" value="test@test.fr" autofocus minlength="6" required value="Email address" />
      <input id="password" class="Input" type="password" minlength="6" value="123456" required value="Password" />

      <button id="loginButton" onclick="Loguser();" type="button" class="loginButton" value="Connexion">Log</button>
      <button id="loginButton" onclick="Reguser();" type="button" class="registerButton" value="Sign up">Sign up</button>
      <div class="errors success" id="success">Logging in</div>
      <div class="errors error" id="error">Wrong credentials</div>
      <div class="errors defaultName" id="defNameError">Seems you didn't changed default name</div>
    </div>
    

  </body>
</html>

<script>
    let timeout = false;
    const error = get("error");
    const success = get("success");
    const pass = get("password");
    const email = get("email");

    function Reguser() {
      mp.trigger("cFromLoginToRegister");
    }

    function get(id) {
      return document.getElementById(id);
    }
    function Loguser() {
      function clearTimeout() {
        timeout = false;
      }
      if(timeout) {
        return;
      }
      timeout = true;
      if (pass.value != "" && email.value != "") {
        mp.trigger("cTryLogin", pass.value, email.value);
      };
      pass.value="";
      setTimeout(clearTimeout, 2000);
    };
    function showError() {
      error.style.display = "block";
      setTimeout(hideError, 2000);
    }
    function hideError() {
      error.style.display = "none";
    }
    function showSuccess() {
      success.style.display = "block";
      setTimeout(hideSuccess, 2000);
    }
    function hideSuccess() {
      success.style.display = "none";
    }
    function showDefNameError() {
      defNameError.style.display = "block";
      setTimeout(hideDefNameError, 2000);
    }
    function hideDefNameError() {
      defNameError.style.display = "none";
    }
    </script>